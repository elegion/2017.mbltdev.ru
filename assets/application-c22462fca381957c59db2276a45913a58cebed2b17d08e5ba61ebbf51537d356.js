(function(){(function(){(function(){this.Rails={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:{selector:"button[data-remote]:not([form]), button[data-confirm]:not([form])",exclude:"form button"},inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",formDisableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",formEnableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]"}}).call(this)}).call(this);var e=this.Rails;(function(){(function(){var t,n;n=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector,e.matches=function(e,t){return null!=t.exclude?n.call(e,t.selector)&&!n.call(e,t.exclude):n.call(e,t)},t="_ujsData",e.getData=function(e,n){var a;return null!=(a=e[t])?a[n]:void 0},e.setData=function(e,n,a){return null==e[t]&&(e[t]={}),e[t][n]=a},e.$=function(e){return Array.prototype.slice.call(document.querySelectorAll(e))}}).call(this),function(){var t,n,a;t=e.$,a=e.csrfToken=function(){var e;return(e=document.querySelector("meta[name=csrf-token]"))&&e.content},n=e.csrfParam=function(){var e;return(e=document.querySelector("meta[name=csrf-param]"))&&e.content},e.CSRFProtection=function(e){var t;if(null!=(t=a()))return e.setRequestHeader("X-CSRF-Token",t)},e.refreshCSRFTokens=function(){var e,r;if(r=a(),e=n(),null!=r&&null!=e)return t('form input[name="'+e+'"]').forEach(function(e){return e.value=r})}}.call(this),function(){var t,n,a;a=e.matches,t=window.CustomEvent,"function"!=typeof t&&(t=function(e,t){var n;return n=document.createEvent("CustomEvent"),n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n},t.prototype=window.Event.prototype),n=e.fire=function(e,n,a){var r;return r=new t(n,{bubbles:!0,cancelable:!0,detail:a}),e.dispatchEvent(r),!r.defaultPrevented},e.stopEverything=function(e){return n(e.target,"ujs:everythingStopped"),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()},e.delegate=function(e,t,n,r){return e.addEventListener(n,function(e){var n;for(n=e.target;n instanceof Element&&!a(n,t);)n=n.parentNode;if(n instanceof Element&&!1===r.call(n,e))return e.preventDefault(),e.stopPropagation()})}}.call(this),function(){var t,n,a,r,o,i;n=e.CSRFProtection,r=e.fire,t={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},e.ajax=function(e){var t;return e=o(e),t=a(e,function(){var n;return n=i(t.response,t.getResponseHeader("Content-Type")),2===Math.floor(t.status/100)?"function"==typeof e.success&&e.success(n,t.statusText,t):"function"==typeof e.error&&e.error(n,t.statusText,t),"function"==typeof e.complete?e.complete(t,t.statusText):void 0}),"function"==typeof e.beforeSend&&e.beforeSend(t,e),t.readyState===XMLHttpRequest.OPENED?t.send(e.data):r(document,"ajaxStop")},o=function(e){return e.url=e.url||location.href,e.type=e.type.toUpperCase(),"GET"===e.type&&e.data&&(e.url.indexOf("?")<0?e.url+="?"+e.data:e.url+="&"+e.data),null==t[e.dataType]&&(e.dataType="*"),e.accept=t[e.dataType],"*"!==e.dataType&&(e.accept+=", */*; q=0.01"),e},a=function(e,t){var a;return a=new XMLHttpRequest,a.open(e.type,e.url,!0),a.setRequestHeader("Accept",e.accept),"string"==typeof e.data&&a.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),e.crossDomain||a.setRequestHeader("X-Requested-With","XMLHttpRequest"),n(a),a.withCredentials=!!e.withCredentials,a.onreadystatechange=function(){if(a.readyState===XMLHttpRequest.DONE)return t(a)},a},i=function(e,t){var n,a;if("string"==typeof e&&"string"==typeof t)if(t.match(/\bjson\b/))try{e=JSON.parse(e)}catch(e){}else if(t.match(/\b(?:java|ecma)script\b/))a=document.createElement("script"),a.text=e,document.head.appendChild(a).parentNode.removeChild(a);else if(t.match(/\b(xml|html|svg)\b/)){n=new DOMParser,t=t.replace(/;.+/,"");try{e=n.parseFromString(e,t)}catch(e){}}return e},e.href=function(e){return e.href},e.isCrossDomain=function(e){var t,n;t=document.createElement("a"),t.href=location.href,n=document.createElement("a");try{return n.href=e,!((!n.protocol||":"===n.protocol)&&!n.host||t.protocol+"//"+t.host==n.protocol+"//"+n.host)}catch(e){return e,!0}}}.call(this),function(){var t,n;t=e.matches,n=function(e){return Array.prototype.slice.call(e)},e.serializeElement=function(e,a){var r,o;return r=[e],t(e,"form")&&(r=n(e.elements)),o=[],r.forEach(function(e){if(e.name)return t(e,"select")?n(e.options).forEach(function(t){if(t.selected)return o.push({name:e.name,value:t.value})}):e.checked||-1===["radio","checkbox","submit"].indexOf(e.type)?o.push({name:e.name,value:e.value}):void 0}),a&&o.push(a),o.map(function(e){return null!=e.name?encodeURIComponent(e.name)+"="+encodeURIComponent(e.value):e}).join("&")},e.formElements=function(e,a){return t(e,"form")?n(e.elements).filter(function(e){return t(e,a)}):n(e.querySelectorAll(a))}}.call(this),function(){var t,n,a;n=e.fire,a=e.stopEverything,e.handleConfirm=function(e){if(!t(this))return a(e)},t=function(e){var t,a,r;if(!(r=e.getAttribute("data-confirm")))return!0;if(t=!1,n(e,"confirm")){try{t=confirm(r)}catch(e){}a=n(e,"confirm:complete",[t])}return t&&a}}.call(this),function(){var t,n,a,r,o,i,s,l,c,u,d;c=e.matches,l=e.getData,u=e.setData,d=e.stopEverything,s=e.formElements,e.handleDisabledElement=function(e){var t;if(t=this,t.disabled)return d(e)},e.enableElement=function(t){var n;return n=t instanceof Event?t.target:t,c(n,e.linkDisableSelector)?i(n):c(n,e.buttonDisableSelector)||c(n,e.formEnableSelector)?r(n):c(n,e.formSubmitSelector)?o(n):void 0},e.disableElement=function(r){var o;return o=r instanceof Event?r.target:r,c(o,e.linkDisableSelector)?a(o):c(o,e.buttonDisableSelector)||c(o,e.formDisableSelector)?t(o):c(o,e.formSubmitSelector)?n(o):void 0},a=function(e){var t;return t=e.getAttribute("data-disable-with"),null!=t&&(u(e,"ujs:enable-with",e.innerHTML),e.innerHTML=t),e.addEventListener("click",d),u(e,"ujs:disabled",!0)},i=function(e){var t;return t=l(e,"ujs:enable-with"),null!=t&&(e.innerHTML=t,u(e,"ujs:enable-with",null)),e.removeEventListener("click",d),u(e,"ujs:disabled",null)},n=function(n){return s(n,e.formDisableSelector).forEach(t)},t=function(e){var t;return t=e.getAttribute("data-disable-with"),null!=t&&(c(e,"button")?(u(e,"ujs:enable-with",e.innerHTML),e.innerHTML=t):(u(e,"ujs:enable-with",e.value),e.value=t)),e.disabled=!0,u(e,"ujs:disabled",!0)},o=function(t){return s(t,e.formEnableSelector).forEach(r)},r=function(e){var t;return t=l(e,"ujs:enable-with"),null!=t&&(c(e,"button")?e.innerHTML=t:e.value=t,u(e,"ujs:enable-with",null)),e.disabled=!1,u(e,"ujs:disabled",null)}}.call(this),function(){var t;t=e.stopEverything,e.handleMethod=function(n){var a,r,o,i,s,l,c;if(l=this,c=l.getAttribute("data-method"))return s=e.href(l),r=e.csrfToken(),a=e.csrfParam(),o=document.createElement("form"),i="<input name='_method' value='"+c+"' type='hidden' />",null==a||null==r||e.isCrossDomain(s)||(i+="<input name='"+a+"' value='"+r+"' type='hidden' />"),i+='<input type="submit" />',o.method="post",o.action=s,o.target=l.target,o.innerHTML=i,o.style.display="none",document.body.appendChild(o),o.querySelector('[type="submit"]').click(),t(n)}}.call(this),function(){var t,n,a,r,o,i,s,l,c,u=[].slice;i=e.matches,a=e.getData,l=e.setData,n=e.fire,c=e.stopEverything,t=e.ajax,r=e.isCrossDomain,s=e.serializeElement,o=function(e){var t;return null!=(t=e.getAttribute("data-remote"))&&"false"!==t},e.handleRemote=function(d){var m,f,p,h,b,v,j;return h=this,!o(h)||(n(h,"ajax:before")?(j=h.getAttribute("data-with-credentials"),p=h.getAttribute("data-type")||"script",i(h,e.formSubmitSelector)?(m=a(h,"ujs:submit-button"),b=a(h,"ujs:submit-button-formmethod")||h.method,v=a(h,"ujs:submit-button-formaction")||h.getAttribute("action")||location.href,"GET"===b.toUpperCase()&&(v=v.replace(/\?.*$/,"")),"multipart/form-data"===h.enctype?(f=new FormData(h),null!=m&&f.append(m.name,m.value)):f=s(h,m),l(h,"ujs:submit-button",null),l(h,"ujs:submit-button-formmethod",null),l(h,"ujs:submit-button-formaction",null)):i(h,e.buttonClickSelector)||i(h,e.inputChangeSelector)?(b=h.getAttribute("data-method"),v=h.getAttribute("data-url"),f=s(h,h.getAttribute("data-params"))):(b=h.getAttribute("data-method"),v=e.href(h),f=h.getAttribute("data-params")),t({type:b||"GET",url:v,data:f,dataType:p,beforeSend:function(e,t){return n(h,"ajax:beforeSend",[e,t])?n(h,"ajax:send",[e]):(n(h,"ajax:stopped"),e.abort())},success:function(){var e;return e=1<=arguments.length?u.call(arguments,0):[],n(h,"ajax:success",e)},error:function(){var e;return e=1<=arguments.length?u.call(arguments,0):[],n(h,"ajax:error",e)},complete:function(){var e;return e=1<=arguments.length?u.call(arguments,0):[],n(h,"ajax:complete",e)},crossDomain:r(v),withCredentials:null!=j&&"false"!==j}),c(d)):(n(h,"ajax:stopped"),!1))},e.formSubmitButtonClick=function(){var e,t;if(e=this,t=e.form)return e.name&&l(t,"ujs:submit-button",{name:e.name,value:e.value}),l(t,"ujs:formnovalidate-button",e.formNoValidate),l(t,"ujs:submit-button-formaction",e.getAttribute("formaction")),l(t,"ujs:submit-button-formmethod",e.getAttribute("formmethod"))},e.handleMetaClick=function(e){var t,n,a;if(n=this,a=(n.getAttribute("data-method")||"GET").toUpperCase(),t=n.getAttribute("data-params"),(e.metaKey||e.ctrlKey)&&"GET"===a&&!t)return e.stopImmediatePropagation()}}.call(this),function(){var t,n,a,r,o,i,s,l,c,u,d,m,f,p;i=e.fire,a=e.delegate,l=e.getData,t=e.$,p=e.refreshCSRFTokens,n=e.CSRFProtection,o=e.enableElement,r=e.disableElement,u=e.handleDisabledElement,c=e.handleConfirm,f=e.handleRemote,s=e.formSubmitButtonClick,d=e.handleMetaClick,m=e.handleMethod,"undefined"==typeof jQuery||null===jQuery||null==jQuery.ajax||jQuery.rails||(jQuery.rails=e,jQuery.ajaxPrefilter(function(e,t,a){if(!e.crossDomain)return n(a)})),e.start=function(){if(window._rails_loaded)throw new Error("rails-ujs has already been loaded!");return window.addEventListener("pageshow",function(){return t(e.formEnableSelector).forEach(function(e){if(l(e,"ujs:disabled"))return o(e)}),t(e.linkDisableSelector).forEach(function(e){if(l(e,"ujs:disabled"))return o(e)})}),a(document,e.linkDisableSelector,"ajax:complete",o),a(document,e.linkDisableSelector,"ajax:stopped",o),a(document,e.buttonDisableSelector,"ajax:complete",o),a(document,e.buttonDisableSelector,"ajax:stopped",o),a(document,e.linkClickSelector,"click",u),a(document,e.linkClickSelector,"click",c),a(document,e.linkClickSelector,"click",d),a(document,e.linkClickSelector,"click",r),a(document,e.linkClickSelector,"click",f),a(document,e.linkClickSelector,"click",m),a(document,e.buttonClickSelector,"click",u),a(document,e.buttonClickSelector,"click",c),a(document,e.buttonClickSelector,"click",r),a(document,e.buttonClickSelector,"click",f),a(document,e.inputChangeSelector,"change",u),a(document,e.inputChangeSelector,"change",c),a(document,e.inputChangeSelector,"change",f),a(document,e.formSubmitSelector,"submit",u),a(document,e.formSubmitSelector,"submit",c),a(document,e.formSubmitSelector,"submit",f),a(document,e.formSubmitSelector,"submit",function(e){return setTimeout(function(){return r(e)},13)}),a(document,e.formSubmitSelector,"ajax:send",r),a(document,e.formSubmitSelector,"ajax:complete",o),a(document,e.formInputClickSelector,"click",u),a(document,e.formInputClickSelector,"click",c),a(document,e.formInputClickSelector,"click",s),document.addEventListener("DOMContentLoaded",p),window._rails_loaded=!0},window.Rails===e&&i(document,"rails:attachBindings")&&e.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd&&define(e)}).call(this),function(e,t){"use strict";t(document).ready(function(){var n=t(".js-runetid-login");e.rIDAsyncInit=function(){rID.init({apiKey:e.RUNET_ID_KEY,backUrl:n.data("backurl")})},function(e){var t,n="runetid-jssdk",a=e.getElementsByTagName("script")[0];e.getElementById(n)||(t=e.createElement("script"),t.id=n,t.async=!0,t.src="http://runet-id.com/javascripts/api/runetid.js",a.parentNode.insertBefore(t,a))}(document),n.on("click",function(e){e.preventDefault(),rID.login()})})}(window,jQuery),function(e,t){"use strict";t(document).ready(function(){function n(e){var n=t(e),a=n.parent(),r=a.height()-n.height();n.css({"padding-top":r/2})}t(".js-partner-image").on("click",function(){var n=t(this).data("url");n&&e.open(n)}).on("load",function(){n(this)}),t(e).on("resize",function(){t(".js-partner-image").each(function(){n(this)})}).trigger("resize")})}(window,jQuery),function(e,t){"use strict";t(document).ready(function(){var e=(t(".js-report-text"),t(".js-report-short")),n=t(".js-report-more").hide(),a=t(".js-full-report-btn"),r=300;if(e.outerHeight()>r){a.removeClass("hidden"),e.children().appendTo(n);for(var o=n.children(),i=0,s=o.length;i<s&&(o.eq(i).appendTo(e),!(e.outerHeight()>r));i++);}a.on("click",function(){n.show("fast"),a.remove()})})}(window,jQuery),function(e,t){"use strict";function n(e){var t=e.search;"?"===t[0]&&(t=t.substring(1));for(var n={},a=t.split("&"),r=0,o=a.length;r<o;r++){var i=a[r].split("=");n[i[0]]=i[1]}var s="https://www.youtube.com/embed/"+n.v;return n.list&&(s+="?list="+n.list),s}function a(e){e.preventDefault();var n=t(this).closest(".schedule-event");t(this).toggleClass("open"),t(this).hasClass("open")?n.find(".schedule-event-detail").slideDown():n.find(".schedule-event-detail").slideUp()}t(document).ready(function(){function a(){var e=i.filter(".active");l.css({width:e.outerWidth(),left:e.position().left})}var r=t(".js-schedule"),o=r.find(".js-tabs"),i=o.find(".js-tab"),s=r.find(".js-pane"),l=r.find(".js-wagon");t(i).on("click",function(){var e=t(i).index(this);s.removeClass("active").eq(e).addClass("active"),i.removeClass("active").eq(e).addClass("active"),a()}),r.length&&(t(e).on("resize.schedule",function(){if(o.is(":visible")){var e=s.filter(".active").length;(e>1||0===e)&&(s.removeClass("active").eq(0).addClass("active"),i.removeClass("active").eq(0).addClass("active"))}else s.addClass("active");a()}),setTimeout(function(){t(e).trigger("resize.schedule")},0),setTimeout(function(){t(e).trigger("resize.schedule")},500));var c=t("#videoDialog"),u=c.find("iframe");c.on("hidden.bs.modal",function(){u.attr("src","")}),t(".js-video-link").on("click",function(e){e.preventDefault();var t=n(this);u.attr("src",t),c.modal("show")})}),t(".schedule-event-detail:not(.open)").hide(),t(".js-schedule-event-toggle").on("click",a)}(window,jQuery),function(e,t){"use strict";function n(){t('a[href*="#"]:not([href="#"]):not([role="tab"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var n=this.hash,a=t(n);if(a=a.length?a:t("[name="+n.slice(1)+"]"),a.length)return t("html, body").animate({scrollTop:a.offset().top-70},500,function(){history.replaceState({},"",n)}),t(e).trigger("smoothScrollStart"),!1}})}function a(){var n=t(".js-transparent-header"),a=t(".js-transparent-header-anchor");0!==n.length&&(n.addClass("navbar-transparent navbar-transparent-instant"),0!==a.length&&t(document).on("scroll.header",function(){var t=n.height(),r=a.offset().top;e.scrollY+t>=r?(n.removeClass("navbar-transparent-instant"),n.removeClass("navbar-transparent")):n.addClass("navbar-transparent")}).trigger("scroll"))}t(document).ajaxSend(function(){NProgress.start()}).ajaxComplete(function(){NProgress.done()}).ajaxError(function(){alert("Something went wrong. Please try again later.")}),t(document).ready(function(){n(),a()}),t("#navbar-main").on("show.bs.collapse",function(){var e=t(".js-transparent-header");e.removeClass("navbar-transparent-instant"),e.removeClass("navbar-transparent")}),t("#navbar-main").on("hidden.bs.collapse",function(){t(".js-transparent-header");t(document).trigger("scroll.header")})}(window,jQuery),function(e,t){"use strict";t(document).ready(function(){var e=t(".js-speakers-row"),n=t(".js-more-speakers-btn"),a=t(".js-speakers-col:not(:empty)").map(function(){return t(this).outerHeight()}),r=Math.min.apply(null,a),o=e.eq(0).outerHeight()>=2*r;if(o&&e.length>1||e.length>2){n.removeClass("hidden"),e.hide();(o?e.eq(0):e.eq(0).add(e.eq(1))).show()}n.on("click",function(){var t=e.filter(":not(:visible)");t.length>0&&t.eq(0).show("fast"),t.length<=1&&n.closest(".js-more-speakers").remove()})})}(window,jQuery),$(function(){function e(){0==$(window).scrollTop()&&$(window).on("mousewheel DOMMouseScroll",t),$(window).on("smoothScrollStart",function(){$(window).off("mousewheel DOMMouseScroll")});var e=$(window).height(),n=$(window).width();e=e<600?600:e,n>=920&&($(".main-banner").css({minHeight:e}),e>750?$(".main-banner-content").css({top:"auto",bottom:50-380*e/1080*100/e+"%"}):$(".main-banner-content").css({top:"auto",bottom:"7%"})),$(".main-banner").wrap('<div class="main-banner-wrapper" />'),$(".main-banner-wrapper").css({height:$(".main-banner").outerHeight()})}function t(e){e.preventDefault();var t=$(".main-banner").outerHeight(),a=$(".navbar.navbar-default.navbar-fixed-top").outerHeight();return $(".main-banner").addClass("animated"),$("html, body").animate({scrollTop:t-a},1e3,"easeInOutQuart",function(){$(window).off("mousewheel DOMMouseScroll",n),$(".main-banner").removeClass("animated")}),$(window).off("mousewheel DOMMouseScroll"),$(window).on("mousewheel DOMMouseScroll",n),!1}function n(){return!1}$(".main-banner").length&&e()}),$.extend($.easing,{easeInOutQuad:function(e,t,n,a,r){return(t/=r/2)<1?a/2*t*t+n:-a/2*(--t*(t-2)-1)+n},easeInOutQuart:function(e,t,n,a,r){return(t/=r/2)<1?a/2*t*t*t*t+n:-a/2*((t-=2)*t*t*t-2)+n},easeInOutCirc:function(e,t,n,a,r){return(t/=r/2)<1?-a/2*(Math.sqrt(1-t*t)-1)+n:a/2*(Math.sqrt(1-(t-=2)*t)+1)+n}}),function(e,t){"use strict";t(document).ready(function(){t(".js-subscriber-form").on("ajax:complete",function(){var e=t(this),n=t('<p class="subscribe-success"></p>');n.text(e.data("message")),e.replaceWith(n)})})}(window,jQuery),function(e,t){"use strict";function n(e,t){g!=e.value&&0!==e.value.length&&(g=e.value,j&&clearTimeout(j),j=setTimeout(t,1e3))}function a(){t(".js-search-user-field").on("change keyup",function(){n(this,r.bind(this))}),t(document).on("click",".js-search-user-results li",function(){var e=t(this),n=t(this).find(".js-search-user-item").data("id"),a=e.parent().data("url");t.ajax(a,{type:"POST",data:{id:n}}).done(s.bind(this))}),t(document).on("click",".js-participants-list .js-remove a",function(e){e.preventDefault();var n=t(this).closest(".js-participant"),a=n.data("id"),r=n.parent().data("url");n.hide("fast",function(){n.remove()}),t.ajax(r,{type:"DELETE",data:{id:a}}).done(l)}),t(document).on("change keyup",".js-promo-code-field",function(){n(this,p.bind(this))}),t(document).on("keyup keypress",".js-form-search-users",function(e){if(13===(e.keyCode||e.which))return e.preventDefault(),!1}),t(document).on("change",".js-product-field",b)}function r(){var e=t(this),n=e.closest("form").prop("action");t.ajax(n,{type:"GET",data:{q:this.value}}).done(o.bind(this))}function o(e){var n=t(".js-search-user-item.js-template"),a=t(".js-search-user-results");a.empty(),t(".js-user-not-exist").toggle(0===e.length);for(var r=0,o=e.length;r<o;r++){var s=i(n,e[r]);t("<li></li>").append(s).appendTo(a)}}function i(e,t){var n=e.clone().removeClass("hidden js-template");return n.data("id",t.RunetId).find(".js-first-name").text(t.FirstName||"").end().find(".js-last-name").text(t.LastName||"").end().find(".js-company").text((t.Work?t.Work.Company.Name:null)||"").end().find(".js-position").text((t.Work?t.Work.Position:null)||""),n}function s(){t("#addNewDialog").modal("hide"),c()}function l(){c()}function c(){var e=t(".js-participants-list");if(0!==e.length){var n=e.data("url");t.ajax(n,{type:"GET"}).done(u)}}function u(e){d(e.Items),f(e.Items)}function d(e){var n=t(".js-participants-list"),a=n.find(".js-template");n.children().filter(":not(.js-template)").remove(),t(".js-participants-list-header").toggleClass("hidden",0===e.length);for(var r=0,o=e.length;r<o;r++){var i=m(a,e[r]);n.append(i)}}function m(e,n){var a=e.clone().removeClass("hidden js-template"),r=t("<div>"),o=r.text(n.Owner.FirstName).text(),i=r.text(n.Owner.LastName).text();return a.data("id",n.Id).data("uid",n.Owner.RunetId).find(".js-name").html(o+"<br>"+i),n.Paid?(a.find(".js-product").text(n.Product.Title),n.CouponCode&&a.find(".js-promocode").text(n.CouponCode),a.find(".js-remove").empty()):n.CouponCode&&a.find(".js-promocode").parent().addClass("has-success").end().find(".js-promo-code-field").val(n.CouponCode),a}function f(e){for(var n=0,a=0,r=e.length;a<r;a++)var n=n+e[a].PriceDiscount;t(".js-total-price-number").text(n)}function p(){var e=t(this),n=e.closest(".js-participant"),a=n.closest(".js-participants-list"),r=a.data("couponUrl"),o={promo_code:this.value,id:n.data("uid")};t.ajax(r,{type:"POST",data:o}).done(h.bind(this))}function h(e){var n=t(this);n.parent().removeClass("has-error has-success"),e.Error&&e.Error.Message?n.parent().addClass("has-error"):c()}function b(){var e=t(this),n=e.closest(".js-participant"),a=n.closest(".js-participants-list"),r=a.data("productUrl"),o={pid:e.val(),oid:n.data("id"),uid:n.data("uid")};t.ajax(r,{type:"POST",data:o}).done(v.bind(this))}function v(){c()}var j=null,g=null;t(document).ready(function(){c(),a()})}(window,jQuery);